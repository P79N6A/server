#!/usr/bin/env ruby
method = ARGV[0] || File.basename($0)

srcDir = File.expand_path File.dirname __FILE__
srcFile = srcDir + '/infod.rb'
dest = RbConfig::CONFIG["sitelibdir"] + '/infod'

case method
when 'install'             ; puts \
  `rsync -av "#{srcDir}/" #{dest}`
  `cp        "#{srcFile}" #{dest}.rb`
  
when 'symlink'
  `ln -s "#{srcFile}" #{dest}.rb`
  `ln -s  "#{srcDir}" #{dest}`

when 'uninstall'
  `rm -r #{dest} #{dest}.rb`

end
