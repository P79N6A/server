#!/usr/bin/env ruby
require 'linkeddata'

stat = "http://www.w3.org/ns/posix/stat#"
ldp = "http://www.w3.org/ns/ldp#"

ftypes = [RDF::RDFS.Resource,
          RDF::URI(stat+'File')]

dtypes = [RDF::URI(ldp+'BasicContainer'),
          RDF::URI(stat+'Directory')]

resources = []
containers = []

graph = RDF::Graph.load ARGV[0]

[[ftypes, resources],
 [dtypes, containers]].
  map{|types,results|
  types.map{|t| graph.query([nil, RDF.type, t]){|s,p,o| results << s unless results.member? s}}}

puts containers
puts resources
